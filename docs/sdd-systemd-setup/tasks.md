# タスク: systemd 自動起動セットアップ

> このドキュメントは AIエージェント（Claude Code等）が実装を行うことを前提としています。

## 実装計画

### フェーズ1: systemd 設定ファイルの作成

#### タスク1.1: systemd ディレクトリの作成

**説明**:
- プロジェクトルートに `systemd/` ディレクトリを作成

**受入基準**:
- [x] `systemd/` ディレクトリが存在する

**依存関係**: なし
**ステータス**: `DONE`

---

#### タスク1.2: ユニットファイルの作成

**説明**:
- `systemd/claude-work.service` を作成
- design.md の仕様に従って設定

**受入基準**:
- [x] ユニットファイルが作成されている
- [x] セキュリティ設定が含まれている
- [x] 再起動ポリシーが設定されている

**依存関係**: タスク1.1
**ステータス**: `DONE`

---

#### タスク1.3: 環境変数テンプレートの作成

**説明**:
- `systemd/claude-work.env.example` を作成
- 必要な環境変数をコメント付きで記載

**受入基準**:
- [x] 環境変数テンプレートが作成されている
- [x] 各変数に説明コメントがある
- [x] DATABASE_URL の設定例がある

**依存関係**: タスク1.1
**ステータス**: `DONE`

---

### フェーズ2: セットアップドキュメントの作成

#### タスク2.1: SYSTEMD_SETUP.md の作成

**説明**:
- `docs/SYSTEMD_SETUP.md` を作成
- 以下のセクションを含める：
  1. 前提条件
  2. 専用ユーザーの作成
  3. アプリケーションのインストール
  4. 環境変数の設定
  5. systemd サービスの設定
  6. サービスの起動と確認
  7. トラブルシューティング
  8. アンインストール手順

**受入基準**:
- [x] 前提条件が明記されている
- [x] ユーザー作成コマンドが記載されている
- [x] インストール手順が完全である
- [x] 環境変数設定手順が記載されている
- [x] systemd 設定手順が記載されている
- [x] 起動・確認コマンドが記載されている
- [x] ログ確認方法が記載されている
- [x] トラブルシューティングセクションがある
- [x] アンインストール手順が記載されている

**依存関係**: タスク1.2, タスク1.3
**ステータス**: `DONE`

---

### フェーズ3: 検証とコミット

#### タスク3.1: ドキュメント整合性の確認

**説明**:
- 作成したファイルの内容を確認
- requirements.md の要件がすべてカバーされていることを確認

**受入基準**:
- [x] REQ-001〜REQ-005 のすべてがカバーされている
- [x] NFR-001〜NFR-003 のすべてがカバーされている
- [x] ファイルパスに誤りがない

**依存関係**: タスク2.1
**ステータス**: `DONE`

---

#### タスク3.2: コミットとPR作成

**説明**:
- 変更をコミット
- PR を作成

**受入基準**:
- [ ] すべてのファイルがコミットされている
- [ ] PR が作成されている
- [ ] CI が通過している

**依存関係**: タスク3.1
**ステータス**: `IN_PROGRESS`

---

## タスクステータスの凡例

- `TODO` - 未着手
- `IN_PROGRESS` - 作業中
- `DONE` - 完了
