# 要件定義書: Docker環境ターミナル描画不具合修正

## 概要

Docker環境でClaude Codeターミナルが完全に描画されない問題を修正する。
HOST環境では正常に動作するが、Docker環境ではASCIIアート（起動画面）のみ表示され、
入力プロンプトやその後のUIが表示されない。

## ユーザーストーリー

**US-001**: ユーザーとして、Docker環境のセッションでClaude Codeターミナルが
HOST環境と同等に描画され、対話的に操作できるようにしたい。

## 要件

### 機能要件

**REQ-001**: Docker環境でClaude Codeセッションを開始した時、
システムはターミナルの入力プロンプトを含むUIを完全に描画しなければならない。

**REQ-002**: ブラウザウィンドウのリサイズが発生した時、
システムはDocker環境のClaude Codeに対してターミナルサイズ変更を正しく伝播しなければならない。

**REQ-003**: Docker環境でのターミナル表示は、HOST環境と同等の品質でなければならない。

### 非機能要件

**NFR-001**: Docker環境のセキュリティ設定（--cap-drop ALL等）は維持しなければならない。

**NFR-002**: HOST環境の既存動作に影響を与えてはならない。

**NFR-003**: 修正はパフォーマンスに大きな影響を与えてはならない。

## 受入基準

- AC-001: Docker環境でセッション作成後、Claude Codeの起動画面とプロンプトが完全に表示される
- AC-002: Docker環境でブラウザリサイズ時にターミナルが正しくリサイズされる
- AC-003: HOST環境の既存テストがすべてパスする
- AC-004: Docker環境でのキー入力が正常に処理される
